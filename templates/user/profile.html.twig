{% extends 'base/standard_layout.html.twig' %}

{% block sonata_page_content_header %}
    {{ parent() }}
    <div class="sticky-wrapper"><nav class="navbar navbar-default" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">User</a>
                </div>
            </div>
        </nav>
    </div>
{% endblock %}

{% block sonata_admin_content %}
    {{ parent() }}
    <div class="box box-primary">
        <div class="box-header">
            My Profile
        </div>
        <div class="box-body">

            {{ form_start(form) }}
                <div>
                    <div class="form-group">
                        {{ form_label(form.username, null, {'label_attr': {'class': 'form-control-label'}}) }}
                        {{ form_widget(form.username, {'attr': {'class': 'form-control', 'readonly':true }}) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.email, null, {'label_attr': {'class': 'form-control-label'}}) }}
                        {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_label(form.plainTextPassword.first, 'Password') }}
                        {{ form_widget(form.plainTextPassword.first, {'attr': {'class': 'form-control'}}) }}
                        {{ form_label(form.plainTextPassword.second, 'Confirm Password') }}
                        {{ form_widget(form.plainTextPassword.second, {'attr': {'class': 'form-control'}}) }}
                    </div>
{#TODO Remove Role field from Profile form. Don't allows users to modify there Role ;) #}
                    {% if form.roles is defined %}
                    <div class="form-group">
                        {{ form_label(form.roles, null, {'label_attr': {'class': 'form-control-label'}}) }}
                        {{ form_widget(form.roles) }}
                    </div>
                    {% endif %}
                    {% if form.pilot is defined %}
                    <div class="form-group">
                        {{ form_label(form.pilot, null, {'label_attr': {'class': 'form-control-label'}}) }}
                        {{ form_widget(form.pilot, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    {% endif %}
                    <div class="form-group">
                        {{ form_widget(form.save, {'attr': {'class': 'btn btn-success'}}) }}
                    </div>
            {{ form_rest(form) }}
            {{ form_end(form) }}
                </div>
        </div>
    </div>
{% endblock sonata_admin_content %}
